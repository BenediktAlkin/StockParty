<html>

<head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body style="background:lightgrey">
    <svg></svg>
    <script>
        const marginTop = 20
        const marginRight = 30
        const marginBottom = 30
        const marginLeft = 40
        const width = 640
        const height = 400
        xRange = [marginLeft, width - marginRight]
        yRange = [height - marginBottom, marginTop]

        const X = [
            new Date(Date.now() + (30 * 60 * 1000)),
            new Date(Date.now() + (60 * 60 * 1000)),
            new Date(Date.now() + (90 * 60 * 1000)),
            new Date(Date.now() + (120 * 60 * 1000)),
            new Date(Date.now() + (150 * 60 * 1000)),
        ];
        const Y = [2.5, 2, 3, 4, 3.5];
        const I = d3.range(X.length);

        // Compute domains.
        xDomain = d3.extent(X);
        yDomain = [1.5, 4.5];

        // Construct scales and axes.
        const xScale = d3.scaleTime().domain(xDomain).range(xRange)
        const yScale = d3.scaleLinear(yDomain, yRange);
        const xAxis = d3.axisBottom(xScale).tickFormat(d3.timeFormat("%H:%M")).ticks(d3.timeMinute.every(30))
        const yAxis = d3.axisLeft(yScale).ticks(height / 50, undefined);

        // Construct a line generator.
        const line = d3.line()
            .curve(d3.curveLinear)
            .x(i => xScale(X[i]))
            .y(i => yScale(Y[i]));

        const svg = d3.select("svg")
            .attr("width", width)
            .attr("height", height)
            .attr("viewBox", [0, 0, width, height])
            .attr("style", "max-width: 100%; height: auto; height: intrinsic;");

        svg.append("g")
            .attr("transform", `translate(0,${height - marginBottom})`)
            .call(xAxis);

        // y axis
        svg.append("g")
            // make some space for y-axis
            .attr("transform", `translate(${marginLeft},0)`)
            .call(yAxis)
            // remove bar of y-axis
            //.call(g => g.select(".domain").remove()) 
            // draw horizontal grid lines
            .call(g => g.selectAll(".tick line").clone()
                .attr("x2", width - marginLeft - marginRight)
                .attr("stroke-opacity", 0.2));

        // draw price line
        svg.append("path")
            .attr("fill", "none")
            .attr("stroke", "currentColor")
            .attr("stroke-width", 1.5)
            .attr("stroke-linecap", "round")
            .attr("stroke-linejoin", "round")
            .attr("stroke-opacity", 1)
            .attr("d", line(I));


    </script>
</body>


</html>